import{j as e,C,a as D,b as $,c as M,d as S,v as W}from"./index-sIZe-0BC.js";const u=["Nd","Pn","Wt","≈ör","Cz","Pt","So"],j=["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa≈∫","Lis","Gru"];function L({data:m,currency:w="‚Ç¨"}){const d=a=>`${w}${a.toLocaleString("nl-NL",{minimumFractionDigits:0,maximumFractionDigits:0})}`,k=Array.from({length:12},(a,t)=>Array.from({length:7},(s,r)=>{const l=m.filter(x=>new Date(x.date).getMonth()===t&&x.dayOfWeek===r),n=l.reduce((x,y)=>x+y.amount,0),g=l.length,z=g>0?n/g:0;return{month:t,dayOfWeek:r,total:n,average:z,count:g}})),N=k.flat().map(a=>a.average).filter(a=>a>0),b=Math.min(...N),p=Math.max(...N),v=a=>{if(a===0)return"bg-slate-100 dark:bg-black/80";const t=(a-b)/(p-b);return t>=.8||t>=.6?"bg-blue-500 dark:bg-blue-600":t>=.4?"bg-cyan-500 dark:bg-cyan-600":t>=.2?"bg-blue-400 dark:bg-blue-500":"bg-rose-400 dark:bg-rose-500"},c=Array.from({length:7},(a,t)=>{const s=m.filter(l=>l.dayOfWeek===t),r=s.reduce((l,n)=>l+n.amount,0);return{day:u[t],total:r,average:r/Math.max(s.length,1),count:s.length}}),i=c.reduce((a,t)=>t.total>a.total?t:a,c[0]),h=c.reduce((a,t)=>t.total<a.total&&t.total>0?t:a,c[0]),f=Array.from({length:12},(a,t)=>{const s=m.filter(l=>new Date(l.date).getMonth()===t),r=s.reduce((l,n)=>l+n.amount,0);return{month:j[t],total:r,count:s.length}}),o=f.reduce((a,t)=>t.total>a.total?t:a,f[0]);return e.jsxs(C,{className:"col-span-full",children:[e.jsxs(D,{children:[e.jsx($,{className:"flex items-center gap-2",children:"üóìÔ∏è Mapa Cieplna Sprzeda≈ºy"}),e.jsx(M,{children:"Wizualizacja aktywno≈õci sprzeda≈ºowej wed≈Çug dni tygodnia i miesiƒôcy"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 p-4 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"Najlepszy dzie≈Ñ"}),e.jsx("div",{className:"text-2xl font-black text-black dark:text-white",children:i.day}),e.jsxs("div",{className:"text-sm text-black dark:text-white mt-1",children:[d(i.total)," (",i.count," transakcji)"]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"Najlepszy miesiƒÖc"}),e.jsx("div",{className:"text-2xl font-black text-black dark:text-white",children:o.month}),e.jsxs("div",{className:"text-sm text-black dark:text-white mt-1",children:[d(o.total)," (",o.count," transakcji)"]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/30 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"Najs≈Çabszy dzie≈Ñ"}),e.jsx("div",{className:"text-2xl font-black text-black dark:text-white",children:h.day}),e.jsxs("div",{className:"text-sm text-black dark:text-white mt-1",children:[d(h.total)," (",h.count," transakcji)"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex flex-col gap-1 pt-10",children:u.map((a,t)=>e.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs font-semibold text-black dark:text-white",children:a},t))}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"grid grid-cols-12 gap-1 mb-2",children:j.map((a,t)=>e.jsx("div",{className:"text-center text-xs font-semibold text-black dark:text-white",children:a},t))}),e.jsx("div",{className:"grid grid-cols-12 gap-1",children:k.map((a,t)=>e.jsx("div",{className:"flex flex-col gap-1",children:a.map((s,r)=>e.jsx("div",{className:`h-12 rounded transition-all duration-200 hover:scale-110 hover:shadow-lg cursor-pointer ${v(s.average)} ${s.count===0?"opacity-30":""}`,title:`${j[t]} - ${u[r]}: ${d(s.average)} ≈õrednio (${s.count} dni)`,children:s.count>0&&e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-white drop-shadow",children:s.count})})},`${t}-${r}`))},t))})]})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-black dark:text-white font-semibold",children:"Niskie:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-rose-400 dark:bg-rose-500"}),e.jsx("div",{className:"w-6 h-6 rounded bg-blue-400 dark:bg-blue-500"}),e.jsx("div",{className:"w-6 h-6 rounded bg-cyan-500 dark:bg-cyan-600"}),e.jsx("div",{className:"w-6 h-6 rounded bg-blue-500 dark:bg-blue-600"}),e.jsx("div",{className:"w-6 h-6 rounded bg-blue-500 dark:bg-blue-600"})]}),e.jsx("span",{className:"text-xs text-black dark:text-white font-semibold",children:"Wysokie"})]}),e.jsxs(W,{variant:"outline",className:"text-xs",children:[d(b)," - ",d(p)]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-black/90/30 border border-slate-200 dark:border-blue-500/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-black dark:text-white font-semibold mb-3",children:"üìä Analiza dni tygodnia"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:c.map((a,t)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:a.day}),e.jsx("div",{className:"text-sm font-bold text-black dark:text-white",children:d(a.average)}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:"≈õrednio"}),e.jsx("div",{className:"mt-2 h-20 bg-slate-200 dark:bg-black/70 rounded relative overflow-hidden",children:e.jsx("div",{className:`absolute bottom-0 w-full ${v(a.average)} transition-all duration-500`,style:{height:`${a.total/i.total*100}%`}})})]},t))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-black dark:text-white font-semibold mb-2",children:"üí° Wnioski z mapy cieplnej"}),e.jsxs("ul",{className:"text-xs text-black dark:text-white space-y-1 list-disc list-inside leading-relaxed",children:[e.jsxs("li",{children:[e.jsx("strong",{children:i.day})," to najlepszy dzie≈Ñ tygodnia z ",d(i.average)," ≈õrednio"]}),e.jsxs("li",{children:[e.jsx("strong",{children:o.month})," by≈Ç najlepszym miesiƒÖcem z ",d(o.total)," przychodu"]}),e.jsx("li",{children:"Liczba w kom√≥rce = ile razy ten dzie≈Ñ wystƒÖpi≈Ç w danym miesiƒÖcu"}),e.jsx("li",{children:"Kolor = intensywno≈õƒá sprzeda≈ºy (ciemniejszy = wy≈ºsze przychody)"})]})]})]})]})}export{L as SalesHeatMap};
