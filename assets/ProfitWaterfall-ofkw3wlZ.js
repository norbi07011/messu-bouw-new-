import{j as e,C as m,a as g,b as u,c as j,d as N,R as f,B as p,e as w,X as v,Y as y,T,f as C,g as D,i as R}from"./index-sIZe-0BC.js";function z({revenue:n,expenses:d,vat:c,currency:b="â‚¬"}){const a=t=>`${b}${Math.abs(t).toLocaleString("nl-NL",{minimumFractionDigits:0,maximumFractionDigits:0})}`,l=n,o=l-d,s=o-c,x=[{category:"Przychody",value:l,start:0,end:l,isTotal:!1,isNegative:!1},{category:"Wydatki",value:d,start:l-d,end:l,isTotal:!1,isNegative:!0},{category:"VAT",value:c,start:o-c,end:o,isTotal:!1,isNegative:!0},{category:"Zysk NETTO",value:s,start:0,end:s,isTotal:!0,isNegative:s<0}],h=({active:t,payload:i})=>{if(t&&i&&i.length){const r=i[0].payload;return e.jsxs("div",{className:"bg-white dark:bg-black/80 p-4 rounded-lg shadow-lg border border-slate-200 dark:border-blue-500/30",children:[e.jsx("p",{className:"font-bold text-black dark:text-white mb-2",children:r.category}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-black dark:text-white",children:["WartoÅ›Ä‡: ",e.jsxs("span",{className:`font-bold ${r.isNegative,"text-black dark:text-white"}`,children:[r.isNegative&&r.category!=="Zysk NETTO"?"-":"",a(r.value)]})]}),!r.isTotal&&e.jsxs("p",{className:"text-black dark:text-white",children:["Saldo: ",e.jsx("span",{className:"font-bold text-black dark:text-white",children:a(r.end)})]})]})]})}return null},k=t=>t.isTotal?t.isNegative?"rgb(239, 68, 68)":"rgb(34, 197, 94)":t.isNegative?"rgb(248, 113, 113)":"rgb(96, 165, 250)";return e.jsxs(m,{className:"col-span-full",children:[e.jsxs(g,{children:[e.jsx(u,{className:"flex items-center gap-2",children:"ðŸ“ˆ Analiza Zysku (Waterfall)"}),e.jsx(j,{children:"Rozbicie zysku netto: od przychodÃ³w do ostatecznego wyniku"})]}),e.jsxs(N,{children:[e.jsx(f,{width:"100%",height:400,children:e.jsxs(p,{data:x,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(w,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-700"}),e.jsx(v,{dataKey:"category",className:"text-xs text-black dark:text-white",tick:{fill:"currentColor"}}),e.jsx(y,{className:"text-xs text-black dark:text-white",tick:{fill:"currentColor"},tickFormatter:a}),e.jsx(T,{content:e.jsx(h,{})}),e.jsx(C,{y:0,stroke:"#64748b",strokeWidth:2}),e.jsx(D,{dataKey:"value",radius:[8,8,8,8],animationDuration:1e3,children:x.map((t,i)=>e.jsx(R,{fill:k(t)},`cell-${i}`))})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"PRZYCHODY"}),e.jsx("p",{className:"text-xl font-bold text-black dark:text-white",children:a(n)})]}),e.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"WYDATKI"}),e.jsxs("p",{className:"text-xl font-bold text-black dark:text-white",children:["-",a(d)]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/30 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"VAT"}),e.jsxs("p",{className:"text-xl font-bold text-black dark:text-white",children:["-",a(c)]})]}),e.jsxs("div",{className:`${s>=0?"bg-emerald-50 dark:bg-emerald-950/30":"bg-red-50 dark:bg-red-950/30"} p-4 rounded-lg`,children:[e.jsx("p",{className:`text-xs ${s>=0,"text-black dark:text-white"} font-semibold mb-1`,children:"ZYSK NETTO"}),e.jsx("p",{className:`text-xl font-bold ${s>=0,"text-black dark:text-white"}`,children:a(s)})]})]})]})]})}export{z as ProfitWaterfall};
