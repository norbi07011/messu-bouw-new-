import{r as a,t as T,p as K,S as g,X as w,Y as N,Z as v,q as Z,j as e,C as H,a as W,b as D,c as P,d as R,n as Y,R as V,e as X,T as $,L as I}from"./index-sIZe-0BC.js";const B=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M244,128v64a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h35l-67-67-31.51,31.52a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L96,119l31.51-31.52a12,12,0,0,1,17,0L220,163V128a12,12,0,0,1,24,0Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M232,128v64H168Z",opacity:"0.2"}),a.createElement("path",{d:"M235.06,120.61a8,8,0,0,0-8.72,1.73L200,148.69,141.66,90.34a8,8,0,0,0-11.32,0L96,124.69,29.66,58.34A8,8,0,0,0,18.34,69.66l72,72a8,8,0,0,0,11.32,0L136,107.31,188.69,160l-26.35,26.34A8,8,0,0,0,168,200h64a8,8,0,0,0,8-8V128A8,8,0,0,0,235.06,120.61ZM224,184H187.31L224,147.31Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M240,128v64a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L188.69,160,136,107.31l-34.34,34.35a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,29.66,58.34L96,124.69l34.34-34.35a8,8,0,0,1,11.32,0L200,148.69l26.34-26.35A8,8,0,0,1,240,128Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M238,128v64a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h49.52L136,104.49l-35.76,35.75a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L96,127.51l35.76-35.75a6,6,0,0,1,8.48,0L226,177.52V128a6,6,0,0,1,12,0Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M240,128v64a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h44.69L136,107.31l-34.34,34.35a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,29.66,58.34L96,124.69l34.34-34.35a8,8,0,0,1,11.32,0L224,172.69V128a8,8,0,0,1,16,0Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M236,128v64a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h54.34L136,101.66,98.83,138.83a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L96,130.34l37.17-37.17a4,4,0,0,1,5.66,0L228,182.34V128a4,4,0,0,1,8,0Z"}))]]),z=a.forwardRef((s,x)=>a.createElement(T,{ref:x,...s,weights:B}));z.displayName="TrendDownIcon";const q=z;var G=K({chartName:"ScatterChart",GraphicalChild:g,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:w},{axisType:"yAxis",AxisComp:N},{axisType:"zAxis",AxisComp:v}],formatAxisMap:Z});function U({data:s,currency:x="â‚¬"}){var f,y;const i=t=>`${x}${t.toLocaleString("nl-NL",{minimumFractionDigits:0,maximumFractionDigits:0})}`,L=t=>`${t.toLocaleString("nl-NL")} km`,C=({active:t,payload:n})=>{if(t&&n&&n.length){const c=n[0].payload;return e.jsxs("div",{className:"bg-white dark:bg-black/80 p-4 rounded-lg shadow-xl border border-slate-200 dark:border-blue-500/30",children:[e.jsx("p",{className:"font-semibold text-black dark:text-white mb-3",children:c.month}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx("span",{className:"text-sm text-black dark:text-white",children:"Kilometry:"}),e.jsx("span",{className:"font-semibold text-black dark:text-white",children:L(c.kilometers)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx("span",{className:"text-sm text-black dark:text-white",children:"PrzychÃ³d:"}),e.jsx("span",{className:"font-semibold text-black dark:text-white",children:i(c.revenue)})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-blue-500/30",children:e.jsxs("div",{className:"flex items-center justify-between gap-6",children:[e.jsx("span",{className:"text-sm font-semibold text-black dark:text-white",children:"EfektywnoÅ›Ä‡:"}),e.jsxs("span",{className:"font-bold text-black dark:text-white",children:[i(c.efficiency),"/km"]})]})})]})]})}return null},d=(()=>{const t=s.length,n=s.reduce((l,r)=>l+r.kilometers,0),c=s.reduce((l,r)=>l+r.revenue,0),A=s.reduce((l,r)=>l+r.kilometers*r.revenue,0),M=s.reduce((l,r)=>l+r.kilometers**2,0),S=s.reduce((l,r)=>l+r.revenue**2,0),F=t*A-n*c,j=Math.sqrt((t*M-n**2)*(t*S-c**2));return j===0?0:F/j})(),m=Math.abs(d),o=d>0,p=()=>m>.8?"Bardzo silna":m>.6?"Silna":m>.4?"Umiarkowana":m>.2?"SÅ‚aba":"Bardzo sÅ‚aba",E=s.reduce((t,n)=>t+n.efficiency,0)/s.length,h=Math.max(...s.map(t=>t.efficiency)),b=Math.min(...s.map(t=>t.efficiency)),k=((f=s.find(t=>t.efficiency===h))==null?void 0:f.month)||"",u=((y=s.find(t=>t.efficiency===b))==null?void 0:y.month)||"";return e.jsxs(H,{className:"col-span-full",children:[e.jsxs(W,{children:[e.jsx(D,{className:"flex items-center gap-2",children:"ğŸ“Š Korelacja: Kilometry vs PrzychÃ³d"}),e.jsx(P,{children:"Analiza efektywnoÅ›ci - czy wiÄ™cej kilometrÃ³w przekÅ‚ada siÄ™ na wyÅ¼sze przychody?"})]}),e.jsxs(R,{className:"space-y-6",children:[e.jsx("div",{className:`${o?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-orange-500 to-red-500"} text-white p-6 rounded-xl shadow-lg`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold mb-1 opacity-90",children:"WSPÃ“ÅCZYNNIK KORELACJI"}),e.jsx("p",{className:"text-5xl font-black mb-2",children:d.toFixed(3)}),e.jsxs("p",{className:"text-sm opacity-90",children:[p()," korelacja ",o?"dodatnia":"ujemna"]})]}),o?e.jsx(Y,{size:64,weight:"duotone",className:"opacity-80"}):e.jsx(q,{size:64,weight:"duotone",className:"opacity-80"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"Åšrednia efektywnoÅ›Ä‡"}),e.jsxs("div",{className:"text-2xl font-black text-black dark:text-white",children:[i(E),"/km"]})]}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-950/30 p-4 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"Najlepsza efektywnoÅ›Ä‡"}),e.jsxs("div",{className:"text-2xl font-black text-black dark:text-white",children:[i(h),"/km"]}),e.jsx("div",{className:"text-xs text-black dark:text-white mt-1",children:k})]}),e.jsxs("div",{className:"bg-rose-50 dark:bg-rose-950/30 p-4 rounded-lg border border-rose-200 dark:border-rose-800",children:[e.jsx("div",{className:"text-xs text-black dark:text-white font-semibold mb-1",children:"NajsÅ‚absza efektywnoÅ›Ä‡"}),e.jsxs("div",{className:"text-2xl font-black text-black dark:text-white",children:[i(b),"/km"]}),e.jsx("div",{className:"text-xs text-black dark:text-white mt-1",children:u})]})]}),e.jsx(V,{width:"100%",height:400,children:e.jsxs(G,{margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx(X,{strokeDasharray:"3 3",stroke:"rgb(226, 232, 240)"}),e.jsx(w,{type:"number",dataKey:"kilometers",name:"Kilometry",stroke:"rgb(100, 116, 139)",style:{fontSize:"12px",fontWeight:600},tickFormatter:t=>`${t} km`,label:{value:"Kilometry",position:"insideBottom",offset:-10,style:{fontSize:"12px",fontWeight:600}}}),e.jsx(N,{type:"number",dataKey:"revenue",name:"PrzychÃ³d",stroke:"rgb(100, 116, 139)",style:{fontSize:"12px",fontWeight:600},tickFormatter:i,label:{value:"PrzychÃ³d (â‚¬)",angle:-90,position:"insideLeft",style:{fontSize:"12px",fontWeight:600}}}),e.jsx(v,{type:"number",dataKey:"efficiency",range:[100,1e3],name:"EfektywnoÅ›Ä‡"}),e.jsx($,{content:e.jsx(C,{})}),e.jsx(I,{wrapperStyle:{paddingTop:"10px"},iconType:"circle"}),e.jsx(g,{name:"MiesiÄ…ce",data:s,fill:"rgb(168, 85, 247)",animationDuration:1500})]})}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-semibold mb-2",children:"ğŸ’¡ Interpretacja wykresu"}),e.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1 list-disc list-inside leading-relaxed",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:["WspÃ³Å‚czynnik ",d.toFixed(3)]})," oznacza ",p().toLowerCase(),o?" dodatniÄ…":" ujemnÄ…"," zaleÅ¼noÅ›Ä‡ miÄ™dzy km a przychodem"]}),e.jsx("li",{children:o?e.jsx(e.Fragment,{children:"WiÄ™cej kilometrÃ³w zazwyczaj = wyÅ¼sze przychody (dobry znak dla mobilnej firmy budowlanej)"}):e.jsx(e.Fragment,{children:"WiÄ™cej kilometrÃ³w nie zawsze = wyÅ¼sze przychody (warto zoptymalizowaÄ‡ trasy)"})}),e.jsx("li",{children:"KaÅ¼dy punkt to miesiÄ…c - im wiÄ™kszy, tym lepsza efektywnoÅ›Ä‡ (â‚¬ przychodu na km)"}),e.jsxs("li",{children:["Najlepsza efektywnoÅ›Ä‡: ",k," (",i(h),"/km) vs najsÅ‚absza: ",u," (",i(b),"/km)"]})]})]})]})]})}export{U as MileageRevenueScatter};
